<html>
<script src='https://d3js.org/d3.v3.min.js'></script>
<style> rect {fill: lightblue; stroke: black; }</style>
<body>

<script src="d3.parcoords.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/2.5.1/d3-annotation.min.js"></script>
<link rel="stylesheet" type="text/css" href="d3.parcoords.css">
<link rel="stylesheet" type="text/css" href="styles.css">
<div id="chart-container">
  <p class="centered-text" style="text-align: center;padding-top: 40px; line-height: 35px;color: darkslategray">
    Although the United States spends more on healthcare than other <br/>
    developed countries, itsâ€™s health outcomes are not any better.  <br/>
    The United States actually performs worse in some common health metrics like<br/>
    Life expectancy, Cardiovascular deaths and overall Health Score.
  </p>

  <div style="text-align: center">
    <a href="page3.html" class="button">Explore these metrics for all countries!</a>
  </div>
  <p class="title-text" style="color: darkslategray; padding-left: 300px;">
    Health Metrics Across Countries 
  </p>
<div id="example5" class="parcoords" style="padding-left: 20px;padding-top:10px;width:900px;height:350px"></div>
<p class="footnote" style="padding-left: 40px;color: darkslategray; text-align: left"> 
    Source: https://wisevoter.com/country-rankings/
  </p>
</div>
<script>
const data4 = [
{
    "Country": "USA", 
    "Life Expectancy": 76.33,
    "Care System Score": 72.7,
    "Death Rate": 10.30,
    "Depression Rate": 4.92,
    "Health Score": 73.9,
    "Cardiovascular deaths": 157.01
},
{
    "Country": "Japan", 
    "Life Expectancy": 84.45,
    "Care System Score": 83.2,
    "Death Rate": 11.10,
    "Depression Rate": 2.66,
    "Health Score": 86.6,
    "Cardiovascular deaths": 77.01
},
{
    "Country": "Kenya", 
    "Life Expectancy": 61.43,
    "Care System Score": 40.5,
    "Death Rate": 5.35,
    "Depression Rate": 3.82,
    "Health Score": 64.6,
    "Cardiovascular deaths": 239.75
},
{
    "Country": "Peru",
    "Life Expectancy": 72.38,
    "Care System Score": 48.6,
    "Death Rate": 5.66,
    "Depression Rate": 2.36,
    "Health Score": 76.4,
    "Cardiovascular deaths": 88.61
},
{
    "Country": "Italy",  
    "Life Expectancy": 82.8,
    "Care System Score": 74.5,
    "Death Rate": 12.60,
    "Depression Rate": 4.62,
    "Health Score": 81.1,
    "Cardiovascular deaths": 126.09
},
{
    "Country": "Australia", 
    "Life Expectancy": 83.3,
    "Care System Score": 75.2,
    "Death Rate": 6.30, 
    "Depression Rate": 5.05,
    "Health Score": 80.2,
    "Cardiovascular deaths": 108.13
}
]



var pc5 = d3.parcoords()("#example5");

    pc5
    .data(data4)
    .color("#2F329F")
    .margin({ top: 24, left: 0, bottom: 12, right: 0 })
    .render()
    .createAxes()  // enable brushing
    //.color(function(d) { return blue_to_brown(d["Care System Score"]); });
</script>

<script src="https://d3js.org/d3.v6.min.js">
const annotation = d3.annotation()
  .type(d3.annotationCallout)
  .annotations([
    {
      note: {
        label: 'For the sample countries from each continent, score was higher than only Kenya',
        bgPadding: 20,
        title: 'Health Score for USA', 
        wrap: 400
      },
      connector: {
        end: "dot" // 'arrow' also available
      },
      className: "show-bg",
      x: 700,
      y: 400,
      dx: 100, 
      dy: 50
    },

  ]);

  svg.selectAll('svg').append('g')
    .attr('class', 'annotation-group')
    .call(annotation)
    .transition()
    .delay(1000);  
  

</script>


</body>
</html>